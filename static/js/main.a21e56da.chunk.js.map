{"version":3,"sources":["components/Carousel.tsx","App.tsx","index.tsx"],"names":["Carousel","images","frameSize","itemWidth","step","animationDuration","infinite","propInfinite","useState","offset","setOffset","localInfinite","setLocalInfinite","dynamicItemWidth","setDynamicItemWidth","inputValue","setInputValue","inputAnimationDuration","setInputAnimationDuration","dynamicAnimationDuration","setDynamicAnimationDuration","toString","inputStep","setInputStep","localStep","setLocalStep","maxOffset","length","useEffect","console","log","scrollWidth","document","documentElement","style","setProperty","className","type","onClick","prevOffset","map","imgSrc","src","alt","title","value","min","max","onChange","e","newValue","parseInt","target","Number","isNaN","alert","placeholder","newStep","App","state","this","React","Component","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.a21e56da.chunk.js","sourcesContent":["/* eslint-disable no-alert */\n/* eslint-disable no-console */\nimport React, { useEffect, useState } from 'react';\nimport './Carousel.scss';\nimport '../styles/blocks/button.scss';\nimport '../styles/blocks/controls.scss';\n\ntype CarouselProps = {\n  images: string[];\n  step: number;\n  frameSize: number;\n  itemWidth: number;\n  animationDuration: number;\n  infinite: boolean;\n};\n\nconst Carousel: React.FC<CarouselProps> = ({\n  images,\n  frameSize = 3,\n  itemWidth = 130,\n  step = 3,\n  animationDuration = 1000,\n  infinite: propInfinite = false,\n}) => {\n  const [offset, setOffset] = useState(0);\n  const [localInfinite, setLocalInfinite] = useState(propInfinite);\n  const [dynamicItemWidth, setDynamicItemWidth] = useState<number>(itemWidth);\n  const [inputValue, setInputValue] = useState<number>(itemWidth);\n  const [inputAnimationDuration, setInputAnimationDuration]\n    = useState<number>(animationDuration);\n\n  const [dynamicAnimationDuration, setDynamicAnimationDuration]\n    = useState<number>(animationDuration);\n\n  const [inputStep, setInputStep] = useState<string>(step.toString());\n  const [localStep, setLocalStep] = useState<number>(step);\n\n  const maxOffset = images.length - frameSize;\n\n  const handlePrev = () => {\n    if (offset >= localStep) {\n      setOffset(prevOffset => prevOffset - localStep);\n    } else if (localInfinite) {\n      setOffset(maxOffset);\n    } else {\n      setOffset(0);\n    }\n  };\n\n  const handleNext = () => {\n    if (offset + localStep < maxOffset) {\n      setOffset(prevOffset => prevOffset + localStep);\n    } else if (localInfinite) {\n      setOffset(0);\n    } else {\n      setOffset(maxOffset);\n    }\n  };\n\n  const MIN_WIDTH = 100;\n  const MAX_WIDTH = 350;\n\n  const updateWidth = () => {\n    if (inputValue < MIN_WIDTH || inputValue > MAX_WIDTH) {\n      alert('Please enter a value between 100 and 350.');\n\n      return;\n    }\n\n    if (inputValue > 0) {\n      setDynamicItemWidth(inputValue);\n    }\n  };\n\n  const updateAnimationDuration = () => {\n    if (inputAnimationDuration > 0) {\n      setDynamicAnimationDuration(inputAnimationDuration);\n    }\n  };\n\n  // prideti safeguards min max values\n\n  const updateStep = () => {\n    const newStep = parseInt(inputStep, 10);\n\n    if (!Number.isNaN(newStep) && newStep > 0 && newStep <= images.length) {\n      setLocalStep(newStep);\n    } else {\n      alert('Please enter a valid step!');\n      setInputStep(localStep.toString());\n    }\n  };\n\n  useEffect(() => {\n    console.log('useEffect has been triggered!');\n    const scrollWidth = offset * dynamicItemWidth;\n\n    document.documentElement.style.setProperty('--transform-offset', `-${scrollWidth}px`);\n    document.documentElement.style.setProperty('--image-size', `${dynamicItemWidth}px`);\n    document.documentElement.style.setProperty('--frame-size', `${frameSize}`);\n    document.documentElement.style.setProperty(\n      '--animation-duration', `${animationDuration}ms`,\n    );\n    document.documentElement.style.setProperty(\n      '--animation-duration', `${dynamicAnimationDuration}ms`,\n    );\n  }, [offset, dynamicItemWidth, frameSize, dynamicAnimationDuration]);\n\n  return (\n    <>\n      <div className=\"container\">\n        <button\n          type=\"button\"\n          onClick={handlePrev}\n          className={`button button--prev ${offset === 0 ? 'disabled' : ''}`}\n        >\n          Prev\n        </button>\n\n        <div className=\"Carousel\">\n          <ul className=\"Carousel__list transformed\">\n            {images.map((imgSrc) => (\n              <li key={imgSrc}>\n                <img className=\"Carousel__image\" src={imgSrc} alt=\"\" />\n              </li>\n            ))}\n          </ul>\n        </div>\n\n        <button\n          type=\"button\"\n          onClick={handleNext}\n          className={`button button--next ${offset >= maxOffset ? 'disabled' : ''}`}\n          data-cy=\"next\"\n        >\n          Next\n        </button>\n      </div>\n\n      <div className=\"container--controls\">\n        <div className=\"controls\">\n          <div className=\"controls__infinite controls__item\">\n            <button\n              type=\"button\"\n              className={`button button--controls ${localInfinite ? 'button--active' : ''}`}\n              onClick={() => setLocalInfinite(!localInfinite)}\n            >\n              Toggle Infinite Scroll\n            </button>\n          </div>\n\n          <div className=\"controls__width controls__item\">\n            <input\n              className=\"controls__width\"\n              type=\"number\"\n              title=\"Enter the item width\"\n              value={inputValue}\n              min=\"100\"\n              max=\"350\"\n              onChange={(e) => {\n                const newValue = parseInt(e.target.value, 10);\n\n                if (!Number.isNaN(newValue)) {\n                  setInputValue(newValue);\n                }\n              }}\n            />\n\n            <button\n              type=\"button\"\n              className=\"button button--controls\"\n              onClick={updateWidth}\n            >\n              Set Width\n            </button>\n          </div>\n\n          <div className=\"controls__item controls__animation\">\n            <input\n              type=\"number\"\n              value={inputAnimationDuration}\n              onChange={\n                (e) => setInputAnimationDuration(Number(e.target.value))\n              }\n              placeholder=\"Enter duration in ms\"\n            />\n            <button\n              type=\"button\"\n              className=\"button button--controls\"\n              onClick={updateAnimationDuration}\n            >\n              Set Animation Duration\n            </button>\n          </div>\n\n          <div className=\"controls__item controls__step\">\n            <input\n              type=\"number\"\n              value={inputStep}\n              onChange={(e) => setInputStep(e.target.value)}\n              placeholder=\"Step\"\n              min=\"1\"\n            />\n\n            <button\n              type=\"button\"\n              className=\"button button--controls\"\n              onClick={updateStep}\n            >\n              Set Scroll Step\n            </button>\n          </div>\n        </div>\n      </div>\n    </>\n\n  );\n};\n\nexport default Carousel;\n","import React from 'react';\nimport './App.scss';\nimport Carousel from './components/Carousel';\n\ninterface State {\n  images: string[];\n}\n\nclass App extends React.Component<{}, State> {\n  state = {\n    images: [\n      './img/1.png',\n      './img/2.png',\n      './img/3.png',\n      './img/4.png',\n      './img/5.png',\n      './img/6.png',\n      './img/7.png',\n      './img/8.png',\n      './img/9.png',\n      './img/10.png',\n    ],\n  };\n\n  render() {\n    const { images } = this.state;\n\n    return (\n      <div className=\"App\">\n        <h1\n          className=\"App__title\"\n          data-cy=\"title\"\n        >\n          {`Carousel with ${images.length} images`}\n        </h1>\n\n        <Carousel\n          images={images}\n          frameSize={2}\n          step={3}\n          itemWidth={130}\n          animationDuration={1000}\n          infinite={false}\n        />\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}